{"version":3,"file":"index.cjs.js","sources":["../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/react/cjs/react-jsx-runtime.development.js","../node_modules/react/jsx-runtime.js","../node_modules/zustand/esm/vanilla/shallow.mjs","../node_modules/zustand/esm/react/shallow.mjs","../src/hooks/useDiagramStore.ts","../src/hooks/useConnection.ts","../src/utils/diagram.ts","../src/utils/geometry.ts","../src/components/blocks/AnimatedPoint.tsx","../src/components/blocks/Block.tsx","../src/components/layers/BlockLayer.tsx","../src/components/ui/HintChip.tsx","../src/components/layers/ConnectionLayer.tsx","../src/components/CanvasEditor.tsx","../src/hooks/useDiagramIO.ts","../src/components/ui/SidebarPanel.tsx","../src/DiagramEditor.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return (type.displayName || \"Context\") + \".Provider\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(\n      type,\n      key,\n      self,\n      source,\n      owner,\n      props,\n      debugStack,\n      debugTask\n    ) {\n      self = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== self ? self : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        self,\n        source,\n        getOwner(),\n        maybeKey,\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node &&\n        null !== node &&\n        node.$$typeof === REACT_ELEMENT_TYPE &&\n        node._store &&\n        (node._store.validated = 1);\n    }\n    var React = require(\"react\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\n    Symbol.for(\"react.provider\");\n    var REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      \"react-stack-bottom-frame\": function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React[\"react-stack-bottom-frame\"].bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsx = function (type, config, maybeKey, source, self) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        !1,\n        source,\n        self,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n    exports.jsxs = function (type, config, maybeKey, source, self) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        !0,\n        source,\n        self,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","const isIterable = (obj) => Symbol.iterator in obj;\nconst hasIterableEntries = (value) => (\n  // HACK: avoid checking entries type\n  \"entries\" in value\n);\nconst compareEntries = (valueA, valueB) => {\n  const mapA = valueA instanceof Map ? valueA : new Map(valueA.entries());\n  const mapB = valueB instanceof Map ? valueB : new Map(valueB.entries());\n  if (mapA.size !== mapB.size) {\n    return false;\n  }\n  for (const [key, value] of mapA) {\n    if (!Object.is(value, mapB.get(key))) {\n      return false;\n    }\n  }\n  return true;\n};\nconst compareIterables = (valueA, valueB) => {\n  const iteratorA = valueA[Symbol.iterator]();\n  const iteratorB = valueB[Symbol.iterator]();\n  let nextA = iteratorA.next();\n  let nextB = iteratorB.next();\n  while (!nextA.done && !nextB.done) {\n    if (!Object.is(nextA.value, nextB.value)) {\n      return false;\n    }\n    nextA = iteratorA.next();\n    nextB = iteratorB.next();\n  }\n  return !!nextA.done && !!nextB.done;\n};\nfunction shallow(valueA, valueB) {\n  if (Object.is(valueA, valueB)) {\n    return true;\n  }\n  if (typeof valueA !== \"object\" || valueA === null || typeof valueB !== \"object\" || valueB === null) {\n    return false;\n  }\n  if (!isIterable(valueA) || !isIterable(valueB)) {\n    return compareEntries(\n      { entries: () => Object.entries(valueA) },\n      { entries: () => Object.entries(valueB) }\n    );\n  }\n  if (hasIterableEntries(valueA) && hasIterableEntries(valueB)) {\n    return compareEntries(valueA, valueB);\n  }\n  return compareIterables(valueA, valueB);\n}\n\nexport { shallow };\n","import React from 'react';\nimport { shallow } from 'zustand/vanilla/shallow';\n\nfunction useShallow(selector) {\n  const prev = React.useRef(undefined);\n  return (state) => {\n    const next = selector(state);\n    return shallow(prev.current, next) ? prev.current : prev.current = next;\n  };\n}\n\nexport { useShallow };\n","import { create } from 'zustand';\nimport { useShallow } from 'zustand/react/shallow';\n\nexport type BlockId = string;\nexport type Direction = 'top' | 'bottom' | 'left' | 'right';\n\nexport interface DiagramBlock {\n  id: BlockId;\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  label: string;\n  icon: string;\n  color?: string;\n}\n\ninterface DiagragConnectionValues {\n  blockId: BlockId;\n  direction: Direction;\n}\n\nexport interface DiagramConnection {\n  from: DiagragConnectionValues;\n  to: DiagragConnectionValues;\n}\n\nconst defaultBlocks: DiagramBlock[] = [\n  { id: 'block-1', x: 100, y: 100, width: 120, height: 60, label: 'obj1', icon: 'home' },\n  { id: 'block-2', x: 300, y: 100, width: 120, height: 60, label: 'obj2', icon: 'settings' },\n  { id: 'block-3', x: 500, y: 100, width: 120, height: 60, label: 'obj3', icon: 'memory' },\n  { id: 'block-4', x: 300, y: 250, width: 120, height: 60, label: 'obj4', icon: 'help' },\n  { id: 'block-5', x: 100, y: 250, width: 120, height: 60, label: 'obj5', icon: 'cancel' },\n  { id: 'block-6', x: 500, y: 250, width: 120, height: 60, label: 'obj6', icon: 'data_object' },\n];\n\ninterface DiagramStore {\n  blocks: DiagramBlock[];\n  connections: DiagramConnection[];\n  selectedBlockId: BlockId | null;\n  globalBlockColor: string;\n\n  actions: {\n    setSelectedBlock: (id: BlockId | null) => void;\n    setDiagram: (data: { elements: DiagramBlock[]; connections: DiagramConnection[] }) => void;\n    updateBlockPosition: (id: BlockId, x: number, y: number) => void;\n    addConnection: (connection: DiagramConnection) => void;\n    removeConnectionFrom: (blockId: BlockId, direction: Direction) => void;\n    removeBlockAndConnections: (id: BlockId) => void;\n    setGlobalBlockColor: (color: string) => void;\n  };\n}\n\nexport const useDiagramStore = create<DiagramStore>((set) => ({\n  blocks: defaultBlocks,\n  connections: [],\n  selectedBlockId: null,\n  globalBlockColor: '#ffffff',\n\n  actions: {\n    setSelectedBlock: (id) => set({ selectedBlockId: id }),\n\n    setDiagram: ({ elements, connections }) =>\n      set({\n        blocks: elements,\n        connections,\n        selectedBlockId: null,\n      }),\n\n    updateBlockPosition: (id, x, y) =>\n      set((state) => {\n        const index = state.blocks.findIndex((block) => block.id === id);\n        if (index === -1) return state;\n        const newBlocks = [...state.blocks];\n        newBlocks[index] = { ...newBlocks[index], x, y };\n        return { blocks: newBlocks };\n      }),\n\n    setGlobalBlockColor: (color) =>\n      set((state) => ({\n        globalBlockColor: color,\n        blocks: state.blocks.map((block) => ({ ...block, color })),\n      })),\n\n    addConnection: (connection) =>\n      set((state) => ({\n        connections: [...state.connections, connection],\n      })),\n\n    removeConnectionFrom: (blockId, direction) =>\n      set((state) => ({\n        connections: state.connections.filter(\n          (conn) => !(conn.from.blockId === blockId && conn.from.direction === direction)\n        ),\n      })),\n\n    removeBlockAndConnections: (id) =>\n      set((state) => ({\n        blocks: state.blocks.filter((block) => block.id !== id),\n        connections: state.connections.filter(\n          (conn) => conn.from.blockId !== id && conn.to.blockId !== id\n        ),\n        selectedBlockId: null,\n      })),\n  },\n}));\n\nexport const useDiagramState = () =>\n  useDiagramStore(\n    useShallow((state) => ({\n      blocks: state.blocks,\n      connections: state.connections,\n      selectedBlockId: state.selectedBlockId,\n      globalBlockColor: state.globalBlockColor,\n    }))\n  );\n\nexport const useDiagramActions = () => useDiagramStore((state) => state.actions);\n","import { useState } from 'react';\nimport { Direction } from './useDiagramStore';\n\nexport type ConnectionInProgress = {\n  fromBlockId: string;\n  fromDirection: Direction;\n  startX: number;\n  startY: number;\n  currentX: number;\n  currentY: number;\n} | null;\n\ntype UseConnectionParams = {\n  removeConnectionFrom: (blockId: string, direction: Direction) => void;\n};\n\nexport const useConnection = ({ removeConnectionFrom }: UseConnectionParams) => {\n  const [connection, setConnection] = useState<ConnectionInProgress>(null);\n  const [hoveredTargetId, setHoveredTargetId] = useState<string | null>(null);\n\n  const startConnection = (\n    blockId: string,\n    direction: Direction,\n    startX: number,\n    startY: number\n  ) => {\n    removeConnectionFrom(blockId, direction);\n\n    setConnection({\n      fromBlockId: blockId,\n      fromDirection: direction,\n      startX,\n      startY,\n      currentX: startX,\n      currentY: startY,\n    });\n  };\n\n  const updatePosition = (x: number, y: number) => {\n    if (connection) {\n      setConnection({\n        ...connection,\n        currentX: x,\n        currentY: y,\n      });\n    }\n  };\n\n  const resetConnection = () => {\n    setConnection(null);\n    setHoveredTargetId(null);\n  };\n\n  return {\n    connection,\n    hoveredTargetId,\n    setHoveredTargetId,\n    startConnection,\n    updatePosition,\n    resetConnection,\n  };\n};\n","import { DiagramBlock, Direction } from '../hooks/useDiagramStore';\n\nexport const getBlockConnectorPoints = (block: DiagramBlock) => {\n  const { x, y, width, height } = block;\n  return [\n    { blockId: block.id, direction: 'top', x: x + width / 2, y },\n    { blockId: block.id, direction: 'bottom', x: x + width / 2, y: y + height },\n    { blockId: block.id, direction: 'left', x, y: y + height / 2 },\n    { blockId: block.id, direction: 'right', x: x + width, y: y + height / 2 },\n  ];\n};\n\nexport const getConnectorCoordinates = (block: DiagramBlock, direction: Direction) => {\n  const { x, y, width, height } = block;\n  switch (direction) {\n    case 'top':\n      return { x: x + width / 2, y };\n    case 'bottom':\n      return { x: x + width / 2, y: y + height };\n    case 'left':\n      return { x, y: y + height / 2 };\n    case 'right':\n      return { x: x + width, y: y + height / 2 };\n  }\n};\n\nexport const isPointerInsideBlock = (\n  pointer: { x: number; y: number },\n  block: DiagramBlock\n): boolean => {\n  return (\n    pointer.x >= block.x &&\n    pointer.x <= block.x + block.width &&\n    pointer.y >= block.y &&\n    pointer.y <= block.y + block.height\n  );\n};\n","export const doesLineIntersectRect = (\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n  rect: { x: number; y: number; width: number; height: number }\n): boolean => {\n  const lines = [\n    [rect.x, rect.y, rect.x + rect.width, rect.y], // top\n    [rect.x, rect.y + rect.height, rect.x + rect.width, rect.y + rect.height], // bottom\n    [rect.x, rect.y, rect.x, rect.y + rect.height], // left\n    [rect.x + rect.width, rect.y, rect.x + rect.width, rect.y + rect.height], // right\n  ];\n\n  const intersects = (\n    ax: number,\n    ay: number,\n    bx: number,\n    by: number,\n    cx: number,\n    cy: number,\n    dx: number,\n    dy: number\n  ): boolean => {\n    const det = (bx - ax) * (dy - cy) - (by - ay) * (dx - cx);\n    if (det === 0) return false;\n    const lambda = ((dy - cy) * (dx - ax) + (cx - dx) * (dy - ay)) / det;\n    const gamma = ((ay - by) * (dx - ax) + (bx - ax) * (dy - ay)) / det;\n    return 0 < lambda && lambda < 1 && 0 < gamma && gamma < 1;\n  };\n\n  return lines.some(([cx, cy, dx, dy]) => intersects(x1, y1, x2, y2, cx, cy, dx, dy));\n};\n","import Konva from 'konva';\nimport { KonvaEventObject } from 'konva/lib/Node';\nimport { FC, useEffect, useRef } from 'react';\nimport { Circle } from 'react-konva';\n\ninterface AnimatedPointProps {\n  x: number;\n  y: number;\n  visible: boolean;\n  onMouseDown: (absX: number, absY: number) => void;\n}\n\nconst AnimatedPoint: FC<AnimatedPointProps> = ({ x, y, visible, onMouseDown }) => {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const circleRef = useRef<Konva.Circle>(null);\n\n  useEffect(() => {\n    if (circleRef.current) {\n      circleRef.current.to({\n        opacity: visible ? 1 : 0,\n        duration: 0.25,\n        easing: Konva.Easings.EaseInOut,\n      });\n    }\n  }, [visible]);\n\n  return (\n    <Circle\n      ref={circleRef}\n      x={x}\n      y={y}\n      radius={6}\n      fill=\"#abc9f8\"\n      stroke=\"#3B82F6\"\n      strokeWidth={2}\n      shadowBlur={6}\n      opacity={0}\n      scale={{ x: 1.1, y: 1.1 }}\n      onMouseEnter={(e: KonvaEventObject<MouseEvent>) => {\n        e.target.to({ scaleX: 1.3, scaleY: 1.3, duration: 0.1 });\n        const container = e.target.getStage()?.container();\n        if (container) {\n          container.style.cursor = 'pointer';\n        }\n      }}\n      onMouseLeave={(e) => {\n        e.target.to({ scaleX: 1.1, scaleY: 1.1, duration: 0.1 });\n        const container = e.target.getStage()?.container();\n        if (container) {\n          container.style.cursor = 'default';\n        }\n      }}\n      onMouseDown={(e) => {\n        e.cancelBubble = true;\n        const absX = e.target.getAbsolutePosition().x;\n        const absY = e.target.getAbsolutePosition().y;\n        onMouseDown(absX, absY);\n      }}\n    />\n  );\n};\n\nexport default AnimatedPoint;\n","import { FC, useState } from 'react';\nimport { Group, Rect, Text } from 'react-konva';\n\nimport { BlockId, DiagramBlock, Direction } from '../../hooks/useDiagramStore';\n\nimport AnimatedPoint from './AnimatedPoint';\n\ninterface BlockProps {\n  block: DiagramBlock;\n  onDragEnd: (id: string, x: number, y: number) => void;\n  onStartConnect: (blockId: BlockId, direction: Direction, startX: number, startY: number) => void;\n  isConnecting?: boolean;\n  isTarget?: boolean;\n  isSource?: boolean;\n  alwaysShowPoints?: boolean;\n  selected?: boolean;\n  onSelect?: (id: BlockId) => void;\n}\n\nconst Block: FC<BlockProps> = ({\n  block,\n  onDragEnd,\n  onStartConnect,\n  onSelect,\n  selected,\n  isConnecting = false,\n  isTarget = false,\n  isSource = false,\n  alwaysShowPoints = false,\n}) => {\n  const [isHovered, setIsHovered] = useState<boolean>(false);\n  const points = [\n    { dir: 'top', x: block.x + block.width / 2, y: block.y },\n    { dir: 'bottom', x: block.x + block.width / 2, y: block.y + block.height },\n    { dir: 'left', x: block.x, y: block.y + block.height / 2 },\n    { dir: 'right', x: block.x + block.width, y: block.y + block.height / 2 },\n  ];\n\n  const shouldShowPoints = () => {\n    return alwaysShowPoints || isSource || isTarget || (isHovered && !isConnecting);\n  };\n\n  return (\n    <Group\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n      onClick={() => onSelect?.(block.id)}\n      draggable={!isConnecting}\n      x={block.x}\n      y={block.y}\n      onDragMove={(e) => {\n        const container = e.target.getStage()?.container();\n        if (container) {\n          container.style.cursor = 'grab';\n        }\n        onDragEnd(block.id, e.target.x(), e.target.y());\n      }}\n      onDragEnd={(e) => {\n        const container = e.target.getStage()?.container();\n        if (container) {\n          container.style.cursor = 'default';\n        }\n        onDragEnd(block.id, e.target.x(), e.target.y());\n      }}\n    >\n      <Rect\n        width={block.width}\n        height={block.height}\n        fill={block.color || '#ffffff'}\n        stroke={selected ? '#bbbbbb' : isConnecting ? '#4B5563' : undefined}\n        cornerRadius={7}\n        shadowBlur={2}\n        strokeWidth={selected || isConnecting ? 2 : 0}\n      />\n      <Text\n        text={block.icon}\n        fontSize={24}\n        x={block.width / 2 - 10}\n        y={block.height / 2 - 20}\n        fontFamily=\"Material Icons\"\n        fill=\"#4B5563\"\n      />\n      <Text\n        text={block.label}\n        fontSize={14}\n        x={block.width / 2 - block.label.length * 3.5}\n        y={block.height / 2 + 10}\n        align=\"center\"\n        fill=\"#4B5563\"\n      />\n\n      {shouldShowPoints() &&\n        points.map((point) => (\n          <AnimatedPoint\n            key={point.dir}\n            x={point.x - block.x}\n            y={point.y - block.y}\n            visible={shouldShowPoints()}\n            onMouseDown={(absX, absY) =>\n              onStartConnect(block.id, point.dir as Direction, absX, absY)\n            }\n          />\n        ))}\n    </Group>\n  );\n};\n\nexport default Block;\n","import { FC } from 'react';\nimport Block from '../blocks/Block';\nimport { DiagramBlock, Direction } from '../../hooks/useDiagramStore';\n\ninterface BlockLayerProps {\n  blocks: DiagramBlock[];\n  connectionFromBlockId: string | null;\n  hoveredTargetId: string | null;\n  isConnecting: boolean;\n  onDragEnd: (id: string, x: number, y: number) => void;\n  onStartConnect: (blockId: string, direction: Direction, x: number, y: number) => void;\n  isBlockConnected: (id: string) => boolean;\n  selectedBlockId: string | null;\n  onSelect: (id: string) => void;\n}\n\nconst BlockLayer: FC<BlockLayerProps> = ({\n  blocks,\n  connectionFromBlockId,\n  hoveredTargetId,\n  isConnecting,\n  onDragEnd,\n  onStartConnect,\n  isBlockConnected,\n  selectedBlockId,\n  onSelect,\n}) => {\n  return (\n    <>\n      {blocks.map((block) => (\n        <Block\n          key={block.id}\n          block={block}\n          onDragEnd={onDragEnd}\n          onStartConnect={onStartConnect}\n          isConnecting={isConnecting}\n          isSource={connectionFromBlockId === block.id}\n          isTarget={hoveredTargetId === block.id}\n          alwaysShowPoints={isBlockConnected(block.id)}\n          selected={selectedBlockId === block.id}\n          onSelect={onSelect}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default BlockLayer;\n","import { FC } from 'react';\n\nconst HintChip: FC = () => {\n  return (\n    <div className=\"absolute bottom-4 left-4 text-sm text-gray-800 bg-white border border-gray-300 px-3 py-1 rounded shadow-md pointer-events-none select-none\">\n      Press <kbd className=\"font-mono text-xs bg-gray-100 border px-1 rounded\">Delete</kbd> or{' '}\n      <kbd className=\"font-mono text-xs bg-gray-100 border px-1 rounded\">Backspace</kbd> to remove a\n      block\n    </div>\n  );\n};\n\nexport default HintChip;\n","import { FC } from 'react';\nimport { Arrow } from 'react-konva';\nimport { DiagramBlock, DiagramConnection } from '../../hooks/useDiagramStore';\nimport { getConnectorCoordinates } from '../../utils/diagram';\n\ninterface ConnectionLayerProps {\n  connections: DiagramConnection[];\n  blocks: DiagramBlock[];\n}\n\nconst ConnectionLayer: FC<ConnectionLayerProps> = ({ connections, blocks }) => {\n  return (\n    <>\n      {connections.map((conn, index) => {\n        const fromBlock = blocks.find((b) => b.id === conn.from.blockId);\n        const toBlock = blocks.find((b) => b.id === conn.to.blockId);\n        if (!fromBlock || !toBlock) return null;\n\n        const from = getConnectorCoordinates(fromBlock, conn.from.direction);\n        const to = getConnectorCoordinates(toBlock, conn.to.direction);\n\n        return (\n          <Arrow\n            key={index}\n            points={[from.x, from.y, to.x, to.y]}\n            stroke=\"#3B82F6\"\n            strokeWidth={2}\n            pointerLength={10}\n            pointerWidth={10}\n            lineCap=\"round\"\n            lineJoin=\"round\"\n          />\n        );\n      })}\n    </>\n  );\n};\n\nexport default ConnectionLayer;\n","import { KonvaEventObject } from 'konva/lib/Node';\nimport { FC, useEffect, useCallback, useMemo } from 'react';\nimport { Stage, Layer, Arrow } from 'react-konva';\n\nimport { useDiagramState, useDiagramActions, Direction } from '../hooks/useDiagramStore';\nimport { useConnection } from '../hooks/useConnection';\n\nimport {\n  getBlockConnectorPoints,\n  getConnectorCoordinates,\n  isPointerInsideBlock,\n} from '../utils/diagram';\nimport { doesLineIntersectRect } from '../utils/geometry';\n\nimport BlockLayer from './layers/BlockLayer';\nimport HintChip from './ui/HintChip';\nimport ConnectionLayer from './layers/ConnectionLayer';\n\nconst CanvasEditor: FC = () => {\n  const { blocks, connections, selectedBlockId } = useDiagramState();\n  const {\n    updateBlockPosition,\n    addConnection,\n    removeConnectionFrom,\n    setSelectedBlock,\n    removeBlockAndConnections,\n  } = useDiagramActions();\n\n  const {\n    connection,\n    hoveredTargetId,\n    setHoveredTargetId,\n    startConnection,\n    updatePosition,\n    resetConnection,\n  } = useConnection({ removeConnectionFrom });\n\n  const allPoints = useMemo(() => blocks.flatMap(getBlockConnectorPoints), [blocks]);\n\n  const handleMouseMove = useCallback(\n    (e: KonvaEventObject<MouseEvent>) => {\n      if (!connection) return;\n      const stage = e.target?.getStage();\n      const pointer = stage?.getPointerPosition();\n      if (!pointer) return;\n\n      updatePosition(pointer.x, pointer.y);\n\n      const hovered = blocks.find(\n        (block) => block.id !== connection.fromBlockId && isPointerInsideBlock(pointer, block)\n      );\n\n      setHoveredTargetId(hovered?.id || null);\n    },\n    [connection, blocks, updatePosition, setHoveredTargetId]\n  );\n\n  const handleMouseUp = useCallback(() => {\n    if (!connection) return;\n\n    const { fromBlockId, fromDirection, startX, startY, currentX, currentY } = connection;\n\n    let targetPoint = allPoints.find((point) => {\n      const dx = point.x - currentX;\n      const dy = point.y - currentY;\n      const dist = Math.sqrt(dx * dx + dy * dy);\n      return dist < 12 && point.blockId !== fromBlockId;\n    });\n\n    if (!targetPoint && hoveredTargetId) {\n      const block = blocks.find((b) => b.id === hoveredTargetId);\n      if (block) {\n        const fallbackDir = ['top', 'bottom', 'left', 'right'].filter(\n          (d) => d !== fromDirection\n        )[0] as Direction;\n\n        const fallbackCoords = getConnectorCoordinates(block, fallbackDir);\n        targetPoint = {\n          blockId: block.id,\n          direction: fallbackDir,\n          ...fallbackCoords,\n        };\n      }\n    }\n\n    if (targetPoint) {\n      const toBlock = blocks.find((b) => b.id === targetPoint?.blockId);\n      if (toBlock) {\n        const intersects = doesLineIntersectRect(\n          startX,\n          startY,\n          targetPoint.x,\n          targetPoint.y,\n          toBlock\n        );\n\n        if (intersects) {\n          resetConnection();\n          return;\n        }\n\n        addConnection({\n          from: {\n            blockId: fromBlockId,\n            direction: fromDirection,\n          },\n          to: {\n            blockId: targetPoint.blockId,\n            direction: targetPoint.direction as Direction,\n          },\n        });\n      }\n    }\n\n    resetConnection();\n  }, [connection, allPoints, hoveredTargetId, blocks, addConnection, resetConnection]);\n\n  const handleCanvasClick = useCallback(\n    (e: KonvaEventObject<MouseEvent>) => {\n      const clickedOnEmpty = e.target === e.target.getStage();\n      if (clickedOnEmpty) {\n        setSelectedBlock(null);\n      }\n    },\n    [setSelectedBlock]\n  );\n\n  const isBlockConnected = useCallback(\n    (blockId: string) =>\n      connections.some((conn) => conn.from.blockId === blockId || conn.to.blockId === blockId),\n    [connections]\n  );\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if ((e.key === 'Delete' || e.key === 'Backspace') && selectedBlockId) {\n        removeBlockAndConnections(selectedBlockId);\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [selectedBlockId, removeBlockAndConnections]);\n\n  return (\n    <div className=\"relative w-full h-screen\">\n      <Stage\n        width={window.innerWidth}\n        height={window.innerHeight}\n        onMouseMove={handleMouseMove}\n        onMouseUp={handleMouseUp}\n        onMouseDown={handleCanvasClick}\n      >\n        <Layer>\n          <BlockLayer\n            blocks={blocks}\n            connectionFromBlockId={connection?.fromBlockId ?? null}\n            hoveredTargetId={hoveredTargetId}\n            isConnecting={!!connection}\n            onDragEnd={updateBlockPosition}\n            onStartConnect={startConnection}\n            isBlockConnected={isBlockConnected}\n            selectedBlockId={selectedBlockId}\n            onSelect={setSelectedBlock}\n          />\n\n          <ConnectionLayer connections={connections} blocks={blocks} />\n\n          {connection && (\n            <Arrow\n              points={[\n                connection.startX,\n                connection.startY,\n                connection.currentX,\n                connection.currentY,\n              ]}\n              stroke=\"#4B5563\"\n              strokeWidth={2}\n              lineCap=\"round\"\n              lineJoin=\"round\"\n            />\n          )}\n        </Layer>\n      </Stage>\n      {selectedBlockId && <HintChip />}\n    </div>\n  );\n};\n\nexport default CanvasEditor;\n","import { useDiagramState, useDiagramActions } from '../hooks/useDiagramStore';\n\nexport const useDiagramIO = () => {\n  const { blocks, connections } = useDiagramState();\n  const { setDiagram } = useDiagramActions();\n\n  const exportToJson = () => {\n    const data = {\n      elements: blocks.map((b) => ({\n        ...b,\n        color: b.color || '#ffffff',\n      })),\n      connections,\n    };\n\n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = 'diagram.json';\n    link.click();\n\n    URL.revokeObjectURL(url);\n  };\n\n  const importFromJson = (file: File) => {\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const json = JSON.parse(e.target?.result as string);\n\n        if (!Array.isArray(json.elements) || !Array.isArray(json.connections)) {\n          alert('Wrong JSON structure');\n          return;\n        }\n\n        setDiagram({\n          elements: json.elements,\n          connections: json.connections,\n        });\n      } catch (err) {\n        alert('Error while reading JSON');\n      }\n    };\n    reader.readAsText(file);\n  };\n\n  return { exportToJson, importFromJson };\n};\n","import { FC, useRef } from 'react';\nimport { useDiagramIO } from '../../hooks/useDiagramIO';\nimport { useDiagramActions, useDiagramState } from '../../hooks/useDiagramStore';\n\nexport const presetColors = [\n  '#4F46E5',\n  '#10B981',\n  '#F59E0B',\n  '#EF4444',\n  '#3B82F6',\n  '#A855F7',\n  '#EC4899',\n  '#F97316',\n  '#22D3EE',\n  '#14B8A6',\n];\n\nconst SidebarPanel: FC = () => {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const { exportToJson, importFromJson } = useDiagramIO();\n  const { globalBlockColor } = useDiagramState();\n  const { setGlobalBlockColor } = useDiagramActions();\n\n  return (\n    <div className=\"flex flex-col space-y-3 w-full\">\n      <button\n        onClick={exportToJson}\n        className=\"w-full px-4 py-2 text-white border border-blue-600 rounded bg-blue-700 hover:bg-blue-800 transition-colors duration-200\"\n      >\n        Export JSON\n      </button>\n      <button\n        onClick={() => fileInputRef.current?.click()}\n        className=\"w-full px-4 py-2 text-blue-600 border border-blue-600 rounded bg-white hover:bg-blue-100 transition-colors duration-200\"\n      >\n        Import JSON\n      </button>\n\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"application/json\"\n        className=\"hidden\"\n        onChange={(e) => {\n          const file = e.target.files?.[0];\n          if (file) importFromJson(file);\n        }}\n      />\n\n      {/* Colors pallete*/}\n      <div className=\"w-full p-3 border border-gray-300 rounded bg-white\">\n        <label className=\"text-sm block text-gray-700 mb-2\">Block colors:</label>\n        <div className=\"flex flex-wrap gap-2\">\n          {presetColors.map((color, index) => (\n            <button\n              key={`color-${index}`}\n              onClick={() => setGlobalBlockColor(color)}\n              className=\"relative w-6 h-6 rounded-full border-none outline-none cursor-pointer hover:opacity-70 transition-opacity\"\n              style={{ backgroundColor: color }}\n            >\n              {globalBlockColor === color && (\n                <span className=\"absolute inset-0 flex items-center justify-center text-white text-[10px] font-bold pointer-events-none\">\n                  ✓\n                </span>\n              )}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SidebarPanel;\n","import CanvasEditor from './components/CanvasEditor';\nimport SidebarPanel from './components/ui/SidebarPanel';\n\nconst DiagramEditor = () => (\n  <div className=\"w-full h-screen flex overflow-hidden\">\n    <div className=\"w-[30%] p-4 border-r border-gray-200\">\n      <SidebarPanel />\n    </div>\n\n    <div className=\"w-[70%] bg-gray-100 h-screen relative\">\n      <CanvasEditor />\n    </div>\n  </div>\n);\n\nexport default DiagramEditor;\n"],"names":["REACT_ELEMENT_TYPE","REACT_FRAGMENT_TYPE","jsxProd","type","config","maybeKey","key","propName","reactJsxRuntime_production","getComponentNameFromType","REACT_CLIENT_REFERENCE","REACT_PROFILER_TYPE","REACT_STRICT_MODE_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_ACTIVITY_TYPE","REACT_PORTAL_TYPE","REACT_CONTEXT_TYPE","REACT_CONSUMER_TYPE","REACT_FORWARD_REF_TYPE","innerType","REACT_MEMO_TYPE","REACT_LAZY_TYPE","testStringCoercion","value","checkKeyStringCoercion","JSCompiler_inline_result","JSCompiler_temp_const","JSCompiler_inline_result$jscomp$0","getTaskName","name","getOwner","dispatcher","ReactSharedInternals","UnknownOwner","hasValidKey","hasOwnProperty","getter","defineKeyPropWarningGetter","props","displayName","warnAboutAccessingKey","specialPropKeyWarningShown","elementRefGetterWithDeprecationWarning","componentName","didWarnAboutElementRef","ReactElement","self","source","owner","debugStack","debugTask","jsxDEVImpl","isStaticChildren","children","isArrayImpl","validateChildKeys","keys","k","didWarnAboutKeySpread","node","React","require$$0","createTask","callStackForError","unknownOwnerDebugStack","unknownOwnerDebugTask","reactJsxRuntime_development","trackActualOwner","jsxRuntimeModule","require$$1","isIterable","obj","hasIterableEntries","compareEntries","valueA","valueB","mapA","mapB","compareIterables","iteratorA","iteratorB","nextA","nextB","shallow","useShallow","selector","prev","state","next","defaultBlocks","useDiagramStore","create","set","id","elements","connections","x","y","index","block","newBlocks","color","connection","blockId","direction","conn","useDiagramState","useDiagramActions","useConnection","removeConnectionFrom","setConnection","useState","hoveredTargetId","setHoveredTargetId","startX","startY","getBlockConnectorPoints","width","height","getConnectorCoordinates","isPointerInsideBlock","pointer","doesLineIntersectRect","x1","y1","x2","y2","rect","lines","intersects","ax","ay","bx","by","cx","cy","dx","dy","det","lambda","gamma","AnimatedPoint","visible","onMouseDown","circleRef","useRef","useEffect","Konva","jsx","Circle","e","container","_a","absX","absY","Block","onDragEnd","onStartConnect","onSelect","selected","isConnecting","isTarget","isSource","alwaysShowPoints","isHovered","setIsHovered","points","shouldShowPoints","jsxs","Group","Rect","Text","point","BlockLayer","blocks","connectionFromBlockId","isBlockConnected","selectedBlockId","Fragment","HintChip","ConnectionLayer","fromBlock","b","toBlock","from","to","Arrow","CanvasEditor","updateBlockPosition","addConnection","setSelectedBlock","removeBlockAndConnections","startConnection","updatePosition","resetConnection","allPoints","useMemo","handleMouseMove","useCallback","stage","hovered","handleMouseUp","fromBlockId","fromDirection","currentX","currentY","targetPoint","fallbackDir","d","fallbackCoords","handleCanvasClick","handleKeyDown","Stage","Layer","useDiagramIO","setDiagram","data","blob","url","link","file","reader","json","presetColors","SidebarPanel","fileInputRef","exportToJson","importFromJson","globalBlockColor","setGlobalBlockColor","DiagramEditor"],"mappings":";;;;;;;;4CAWA,IAAIA,EAAqB,OAAO,IAAI,4BAA4B,EAC9DC,EAAsB,OAAO,IAAI,gBAAgB,EACnD,SAASC,EAAQC,EAAMC,EAAQC,EAAU,CACvC,IAAIC,EAAM,KAGV,GAFWD,IAAX,SAAwBC,EAAM,GAAKD,GACxBD,EAAO,MAAlB,SAA0BE,EAAM,GAAKF,EAAO,KACxC,QAASA,EAAQ,CACnBC,EAAW,CAAE,EACb,QAASE,KAAYH,EACTG,IAAV,QAAuBF,EAASE,CAAQ,EAAIH,EAAOG,CAAQ,EAC9D,MAAMF,EAAWD,EAClB,OAAAA,EAASC,EAAS,IACX,CACL,SAAUL,EACV,KAAMG,EACN,IAAKG,EACL,IAAgBF,IAAX,OAAoBA,EAAS,KAClC,MAAOC,CACR,CACH,CACA,OAAAG,EAAA,SAAmBP,EACnBO,EAAA,IAAcN,EACdM,EAAA,KAAeN;;;;;;;;yCCtBE,QAAQ,IAAI,WAA7B,cACG,UAAY,CACX,SAASO,EAAyBN,EAAM,CACtC,GAAYA,GAAR,KAAc,OAAO,KACzB,GAAmB,OAAOA,GAAtB,WACF,OAAOA,EAAK,WAAaO,EACrB,KACAP,EAAK,aAAeA,EAAK,MAAQ,KACvC,GAAiB,OAAOA,GAApB,SAA0B,OAAOA,EACrC,OAAQA,EAAI,CACV,KAAKF,EACH,MAAO,WACT,KAAKU,EACH,MAAO,WACT,KAAKC,EACH,MAAO,aACT,KAAKC,EACH,MAAO,WACT,KAAKC,EACH,MAAO,eACT,KAAKC,EACH,MAAO,UACjB,CACM,GAAiB,OAAOZ,GAApB,SACF,OACgB,OAAOA,EAAK,KAAzB,UACC,QAAQ,MACN,mHACD,EACHA,EAAK,SACf,CACU,KAAKa,EACH,MAAO,SACT,KAAKC,EACH,OAAQd,EAAK,aAAe,WAAa,YAC3C,KAAKe,EACH,OAAQf,EAAK,SAAS,aAAe,WAAa,YACpD,KAAKgB,EACH,IAAIC,EAAYjB,EAAK,OACrB,OAAAA,EAAOA,EAAK,YACZA,IACIA,EAAOiB,EAAU,aAAeA,EAAU,MAAQ,GACnDjB,EAAcA,IAAP,GAAc,cAAgBA,EAAO,IAAM,cAC9CA,EACT,KAAKkB,EACH,OACGD,EAAYjB,EAAK,aAAe,KACxBiB,IAAT,KACIA,EACAX,EAAyBN,EAAK,IAAI,GAAK,OAE/C,KAAKmB,EACHF,EAAYjB,EAAK,SACjBA,EAAOA,EAAK,MACZ,GAAI,CACF,OAAOM,EAAyBN,EAAKiB,CAAS,CAAC,CAChD,MAAW,CAAA,CACxB,CACM,OAAO,IACb,CACI,SAASG,EAAmBC,EAAO,CACjC,MAAO,GAAKA,CAClB,CACI,SAASC,EAAuBD,EAAO,CACrC,GAAI,CACFD,EAAmBC,CAAK,EACxB,IAAIE,EAA2B,EAChC,MAAW,CACVA,EAA2B,EACnC,CACM,GAAIA,EAA0B,CAC5BA,EAA2B,QAC3B,IAAIC,EAAwBD,EAAyB,MACjDE,EACc,OAAO,QAAtB,YACC,OAAO,aACPJ,EAAM,OAAO,WAAW,GAC1BA,EAAM,YAAY,MAClB,SACF,OAAAG,EAAsB,KACpBD,EACA,2GACAE,CACD,EACML,EAAmBC,CAAK,CACvC,CACA,CACI,SAASK,EAAY1B,EAAM,CACzB,GAAIA,IAASF,EAAqB,MAAO,KACzC,GACe,OAAOE,GAApB,UACSA,IAAT,MACAA,EAAK,WAAamB,EAElB,MAAO,QACT,GAAI,CACF,IAAIQ,EAAOrB,EAAyBN,CAAI,EACxC,OAAO2B,EAAO,IAAMA,EAAO,IAAM,OAClC,MAAW,CACV,MAAO,OACf,CACA,CACI,SAASC,GAAW,CAClB,IAAIC,EAAaC,EAAqB,EACtC,OAAgBD,IAAT,KAAsB,KAAOA,EAAW,SAAU,CAC/D,CACI,SAASE,GAAe,CACtB,OAAO,MAAM,uBAAuB,CAC1C,CACI,SAASC,EAAY/B,EAAQ,CAC3B,GAAIgC,EAAe,KAAKhC,EAAQ,KAAK,EAAG,CACtC,IAAIiC,EAAS,OAAO,yBAAyBjC,EAAQ,KAAK,EAAE,IAC5D,GAAIiC,GAAUA,EAAO,eAAgB,MAAO,EACpD,CACM,OAAkBjC,EAAO,MAAlB,MACb,CACI,SAASkC,EAA2BC,EAAOC,EAAa,CACtD,SAASC,GAAwB,CAC/BC,IACIA,EAA6B,GAC/B,QAAQ,MACN,0OACAF,CACZ,EACA,CACMC,EAAsB,eAAiB,GACvC,OAAO,eAAeF,EAAO,MAAO,CAClC,IAAKE,EACL,aAAc,EACtB,CAAO,CACP,CACI,SAASE,GAAyC,CAChD,IAAIC,EAAgBnC,EAAyB,KAAK,IAAI,EACtD,OAAAoC,EAAuBD,CAAa,IAChCC,EAAuBD,CAAa,EAAI,GAC1C,QAAQ,MACN,6IACV,GACMA,EAAgB,KAAK,MAAM,IACTA,IAAX,OAA2BA,EAAgB,IACxD,CACI,SAASE,EACP3C,EACAG,EACAyC,EACAC,EACAC,EACAV,EACAW,EACAC,EACA,CACA,OAAAJ,EAAOR,EAAM,IACbpC,EAAO,CACL,SAAUH,EACV,KAAMG,EACN,IAAKG,EACL,MAAOiC,EACP,OAAQU,CACT,GACoBF,IAAX,OAAkBA,EAAO,QAAnC,KACI,OAAO,eAAe5C,EAAM,MAAO,CACjC,WAAY,GACZ,IAAKwC,CACN,CAAA,EACD,OAAO,eAAexC,EAAM,MAAO,CAAE,WAAY,GAAI,MAAO,KAAM,EACtEA,EAAK,OAAS,CAAE,EAChB,OAAO,eAAeA,EAAK,OAAQ,YAAa,CAC9C,aAAc,GACd,WAAY,GACZ,SAAU,GACV,MAAO,CACf,CAAO,EACD,OAAO,eAAeA,EAAM,aAAc,CACxC,aAAc,GACd,WAAY,GACZ,SAAU,GACV,MAAO,IACf,CAAO,EACD,OAAO,eAAeA,EAAM,cAAe,CACzC,aAAc,GACd,WAAY,GACZ,SAAU,GACV,MAAO+C,CACf,CAAO,EACD,OAAO,eAAe/C,EAAM,aAAc,CACxC,aAAc,GACd,WAAY,GACZ,SAAU,GACV,MAAOgD,CACf,CAAO,EACD,OAAO,SAAW,OAAO,OAAOhD,EAAK,KAAK,EAAG,OAAO,OAAOA,CAAI,GACxDA,CACb,CACI,SAASiD,EACPjD,EACAC,EACAC,EACAgD,EACAL,EACAD,EACAG,EACAC,EACA,CACA,IAAIG,EAAWlD,EAAO,SACtB,GAAekD,IAAX,OACF,GAAID,EACF,GAAIE,EAAYD,CAAQ,EAAG,CACzB,IACED,EAAmB,EACnBA,EAAmBC,EAAS,OAC5BD,IAEAG,EAAkBF,EAASD,CAAgB,CAAC,EAC9C,OAAO,QAAU,OAAO,OAAOC,CAAQ,CACxC,MACC,QAAQ,MACN,sJACD,OACAE,EAAkBF,CAAQ,EACjC,GAAIlB,EAAe,KAAKhC,EAAQ,KAAK,EAAG,CACtCkD,EAAW7C,EAAyBN,CAAI,EACxC,IAAIsD,EAAO,OAAO,KAAKrD,CAAM,EAAE,OAAO,SAAUsD,GAAG,CACjD,OAAiBA,KAAV,KACjB,CAAS,EACDL,EACE,EAAII,EAAK,OACL,kBAAoBA,EAAK,KAAK,SAAS,EAAI,SAC3C,iBACNE,GAAsBL,EAAWD,CAAgB,IAC7CI,EACA,EAAIA,EAAK,OAAS,IAAMA,EAAK,KAAK,SAAS,EAAI,SAAW,KAC5D,QAAQ,MACN;AAAA;AAAA;AAAA;AAAA;AAAA,mCACAJ,EACAC,EACAG,EACAH,CACD,EACAK,GAAsBL,EAAWD,CAAgB,EAAI,GAChE,CAMM,GALAC,EAAW,KACAjD,IAAX,SACGoB,EAAuBpB,CAAQ,EAAIiD,EAAW,GAAKjD,GACtD8B,EAAY/B,CAAM,IACfqB,EAAuBrB,EAAO,GAAG,EAAIkD,EAAW,GAAKlD,EAAO,KAC3D,QAASA,EAAQ,CACnBC,EAAW,CAAE,EACb,QAASE,KAAYH,EACTG,IAAV,QAAuBF,EAASE,CAAQ,EAAIH,EAAOG,CAAQ,EAC9D,MAAMF,EAAWD,EAClB,OAAAkD,GACEhB,EACEjC,EACe,OAAOF,GAAtB,WACIA,EAAK,aAAeA,EAAK,MAAQ,UACjCA,CACL,EACI2C,EACL3C,EACAmD,EACAP,EACAC,EACAjB,EAAU,EACV1B,EACA6C,EACAC,CACD,CACP,CACI,SAASK,EAAkBI,EAAM,CAClB,OAAOA,GAApB,UACWA,IAAT,MACAA,EAAK,WAAa5D,GAClB4D,EAAK,SACJA,EAAK,OAAO,UAAY,EACjC,CACI,IAAIC,EAAQC,EACV9D,EAAqB,OAAO,IAAI,4BAA4B,EAC5DgB,EAAoB,OAAO,IAAI,cAAc,EAC7Cf,EAAsB,OAAO,IAAI,gBAAgB,EACjDW,EAAyB,OAAO,IAAI,mBAAmB,EACvDD,EAAsB,OAAO,IAAI,gBAAgB,EAE/CO,EAAsB,OAAO,IAAI,gBAAgB,EACnDD,EAAqB,OAAO,IAAI,eAAe,EAC/CE,EAAyB,OAAO,IAAI,mBAAmB,EACvDN,EAAsB,OAAO,IAAI,gBAAgB,EACjDC,EAA2B,OAAO,IAAI,qBAAqB,EAC3DO,EAAkB,OAAO,IAAI,YAAY,EACzCC,EAAkB,OAAO,IAAI,YAAY,EACzCP,EAAsB,OAAO,IAAI,gBAAgB,EACjDL,EAAyB,OAAO,IAAI,wBAAwB,EAC5DuB,EACE4B,EAAM,gEACRzB,EAAiB,OAAO,UAAU,eAClCmB,EAAc,MAAM,QACpBQ,EAAa,QAAQ,WACjB,QAAQ,WACR,UAAY,CACV,OAAO,IACR,EACPF,EAAQ,CACN,2BAA4B,SAAUG,EAAmB,CACvD,OAAOA,EAAmB,CAClC,CACK,EACD,IAAItB,EACAG,EAAyB,CAAE,EAC3BoB,EAAyBJ,EAAM,0BAA0B,EAAE,KAC7DA,EACA3B,CACN,EAAO,EACCgC,GAAwBH,EAAWlC,EAAYK,CAAY,CAAC,EAC5DyB,GAAwB,CAAE,EAC9BQ,EAAA,SAAmBlE,EACnBkE,EAAW,IAAG,SAAUhE,EAAMC,EAAQC,EAAU2C,EAAQD,EAAM,CAC5D,IAAIqB,EACF,IAAMnC,EAAqB,6BAC7B,OAAOmB,EACLjD,EACAC,EACAC,EACA,GACA2C,EACAD,EACAqB,EACI,MAAM,uBAAuB,EAC7BH,EACJG,EAAmBL,EAAWlC,EAAY1B,CAAI,CAAC,EAAI+D,EACpD,CACF,EACDC,EAAY,KAAG,SAAUhE,EAAMC,EAAQC,EAAU2C,EAAQD,EAAM,CAC7D,IAAIqB,EACF,IAAMnC,EAAqB,6BAC7B,OAAOmB,EACLjD,EACAC,EACAC,EACA,GACA2C,EACAD,EACAqB,EACI,MAAM,uBAAuB,EAC7BH,EACJG,EAAmBL,EAAWlC,EAAY1B,CAAI,CAAC,EAAI+D,EACpD,CACF,CACL,EAAM,2CCnWF,QAAQ,IAAI,WAAa,aAC3BG,EAAA,QAAiBP,GAAgD,EAEjEO,EAAA,QAAiBC,GAAiD,wBCLpE,MAAMC,GAAcC,GAAQ,OAAO,YAAYA,EACzCC,GAAsBjD,GAE1B,YAAaA,EAETkD,GAAiB,CAACC,EAAQC,IAAW,CACzC,MAAMC,EAAOF,aAAkB,IAAMA,EAAS,IAAI,IAAIA,EAAO,SAAS,EAChEG,EAAOF,aAAkB,IAAMA,EAAS,IAAI,IAAIA,EAAO,SAAS,EACtE,GAAIC,EAAK,OAASC,EAAK,KACrB,MAAO,GAET,SAAW,CAACxE,EAAKkB,CAAK,IAAKqD,EACzB,GAAI,CAAC,OAAO,GAAGrD,EAAOsD,EAAK,IAAIxE,CAAG,CAAC,EACjC,MAAO,GAGX,MAAO,EACT,EACMyE,GAAmB,CAACJ,EAAQC,IAAW,CAC3C,MAAMI,EAAYL,EAAO,OAAO,QAAQ,EAAG,EACrCM,EAAYL,EAAO,OAAO,QAAQ,EAAG,EAC3C,IAAIM,EAAQF,EAAU,KAAM,EACxBG,EAAQF,EAAU,KAAM,EAC5B,KAAO,CAACC,EAAM,MAAQ,CAACC,EAAM,MAAM,CACjC,GAAI,CAAC,OAAO,GAAGD,EAAM,MAAOC,EAAM,KAAK,EACrC,MAAO,GAETD,EAAQF,EAAU,KAAM,EACxBG,EAAQF,EAAU,KAAM,CAC5B,CACE,MAAO,CAAC,CAACC,EAAM,MAAQ,CAAC,CAACC,EAAM,IACjC,EACA,SAASC,GAAQT,EAAQC,EAAQ,CAC/B,OAAI,OAAO,GAAGD,EAAQC,CAAM,EACnB,GAEL,OAAOD,GAAW,UAAYA,IAAW,MAAQ,OAAOC,GAAW,UAAYA,IAAW,KACrF,GAEL,CAACL,GAAWI,CAAM,GAAK,CAACJ,GAAWK,CAAM,EACpCF,GACL,CAAE,QAAS,IAAM,OAAO,QAAQC,CAAM,CAAG,EACzC,CAAE,QAAS,IAAM,OAAO,QAAQC,CAAM,CAAC,CACxC,EAECH,GAAmBE,CAAM,GAAKF,GAAmBG,CAAM,EAClDF,GAAeC,EAAQC,CAAM,EAE/BG,GAAiBJ,EAAQC,CAAM,CACxC,CC9CA,SAASS,GAAWC,EAAU,CAC5B,MAAMC,EAAO1B,EAAM,OAAO,MAAS,EACnC,OAAQ2B,GAAU,CAChB,MAAMC,EAAOH,EAASE,CAAK,EAC3B,OAAOJ,GAAQG,EAAK,QAASE,CAAI,EAAIF,EAAK,QAAUA,EAAK,QAAUE,CACpE,CACH,CCkBA,MAAMC,GAAgC,CACpC,CAAE,GAAI,UAAW,EAAG,IAAK,EAAG,IAAK,MAAO,IAAK,OAAQ,GAAI,MAAO,OAAQ,KAAM,MAAO,EACrF,CAAE,GAAI,UAAW,EAAG,IAAK,EAAG,IAAK,MAAO,IAAK,OAAQ,GAAI,MAAO,OAAQ,KAAM,UAAW,EACzF,CAAE,GAAI,UAAW,EAAG,IAAK,EAAG,IAAK,MAAO,IAAK,OAAQ,GAAI,MAAO,OAAQ,KAAM,QAAS,EACvF,CAAE,GAAI,UAAW,EAAG,IAAK,EAAG,IAAK,MAAO,IAAK,OAAQ,GAAI,MAAO,OAAQ,KAAM,MAAO,EACrF,CAAE,GAAI,UAAW,EAAG,IAAK,EAAG,IAAK,MAAO,IAAK,OAAQ,GAAI,MAAO,OAAQ,KAAM,QAAS,EACvF,CAAE,GAAI,UAAW,EAAG,IAAK,EAAG,IAAK,MAAO,IAAK,OAAQ,GAAI,MAAO,OAAQ,KAAM,aAAc,CAC9F,EAmBaC,GAAkBC,GAAAA,OAAsBC,IAAS,CAC5D,OAAQH,GACR,YAAa,CAAC,EACd,gBAAiB,KACjB,iBAAkB,UAElB,QAAS,CACP,iBAAmBI,GAAOD,EAAI,CAAE,gBAAiBC,EAAI,EAErD,WAAY,CAAC,CAAE,SAAAC,EAAU,YAAAC,CAAA,IACvBH,EAAI,CACF,OAAQE,EACR,YAAAC,EACA,gBAAiB,IAAA,CAClB,EAEH,oBAAqB,CAACF,EAAIG,EAAGC,IAC3BL,EAAKL,GAAU,CACP,MAAAW,EAAQX,EAAM,OAAO,UAAWY,GAAUA,EAAM,KAAON,CAAE,EAC3D,GAAAK,IAAU,GAAW,OAAAX,EACzB,MAAMa,EAAY,CAAC,GAAGb,EAAM,MAAM,EACxB,OAAAa,EAAAF,CAAK,EAAI,CAAE,GAAGE,EAAUF,CAAK,EAAG,EAAAF,EAAG,EAAAC,CAAE,EACxC,CAAE,OAAQG,CAAU,CAAA,CAC5B,EAEH,oBAAsBC,GACpBT,EAAKL,IAAW,CACd,iBAAkBc,EAClB,OAAQd,EAAM,OAAO,IAAKY,IAAW,CAAE,GAAGA,EAAO,MAAAE,GAAQ,CAAA,EACzD,EAEJ,cAAgBC,GACdV,EAAKL,IAAW,CACd,YAAa,CAAC,GAAGA,EAAM,YAAae,CAAU,CAAA,EAC9C,EAEJ,qBAAsB,CAACC,EAASC,IAC9BZ,EAAKL,IAAW,CACd,YAAaA,EAAM,YAAY,OAC5BkB,GAAS,EAAEA,EAAK,KAAK,UAAYF,GAAWE,EAAK,KAAK,YAAcD,EAAA,CACvE,EACA,EAEJ,0BAA4BX,GAC1BD,EAAKL,IAAW,CACd,OAAQA,EAAM,OAAO,OAAQY,GAAUA,EAAM,KAAON,CAAE,EACtD,YAAaN,EAAM,YAAY,OAC5BkB,GAASA,EAAK,KAAK,UAAYZ,GAAMY,EAAK,GAAG,UAAYZ,CAC5D,EACA,gBAAiB,IAAA,EACjB,CAAA,CAER,EAAE,EAEWa,EAAkB,IAC7BhB,GACEN,GAAYG,IAAW,CACrB,OAAQA,EAAM,OACd,YAAaA,EAAM,YACnB,gBAAiBA,EAAM,gBACvB,iBAAkBA,EAAM,gBAAA,EACxB,CACJ,EAEWoB,EAAoB,IAAMjB,GAAiBH,GAAUA,EAAM,OAAO,ECrGlEqB,GAAgB,CAAC,CAAE,qBAAAC,KAAgD,CAC9E,KAAM,CAACP,EAAYQ,CAAa,EAAIC,EAAAA,SAA+B,IAAI,EACjE,CAACC,EAAiBC,CAAkB,EAAIF,EAAAA,SAAwB,IAAI,EAmCnE,MAAA,CACL,WAAAT,EACA,gBAAAU,EACA,mBAAAC,EACA,gBArCsB,CACtBV,EACAC,EACAU,EACAC,IACG,CACHN,EAAqBN,EAASC,CAAS,EAEzBM,EAAA,CACZ,YAAaP,EACb,cAAeC,EACf,OAAAU,EACA,OAAAC,EACA,SAAUD,EACV,SAAUC,CAAA,CACX,CACH,EAsBE,eApBqB,CAACnB,EAAWC,IAAc,CAC3CK,GACYQ,EAAA,CACZ,GAAGR,EACH,SAAUN,EACV,SAAUC,CAAA,CACX,CAEL,EAaE,gBAXsB,IAAM,CAC5Ba,EAAc,IAAI,EAClBG,EAAmB,IAAI,CACzB,CASA,CACF,EC3DaG,GAA2BjB,GAAwB,CAC9D,KAAM,CAAE,EAAAH,EAAG,EAAAC,EAAG,MAAAoB,EAAO,OAAAC,CAAW,EAAAnB,EACzB,MAAA,CACL,CAAE,QAASA,EAAM,GAAI,UAAW,MAAO,EAAGH,EAAIqB,EAAQ,EAAG,EAAApB,CAAE,EAC3D,CAAE,QAASE,EAAM,GAAI,UAAW,SAAU,EAAGH,EAAIqB,EAAQ,EAAG,EAAGpB,EAAIqB,CAAO,EAC1E,CAAE,QAASnB,EAAM,GAAI,UAAW,OAAQ,EAAAH,EAAG,EAAGC,EAAIqB,EAAS,CAAE,EAC7D,CAAE,QAASnB,EAAM,GAAI,UAAW,QAAS,EAAGH,EAAIqB,EAAO,EAAGpB,EAAIqB,EAAS,CAAE,CAC3E,CACF,EAEaC,EAA0B,CAACpB,EAAqBK,IAAyB,CACpF,KAAM,CAAE,EAAAR,EAAG,EAAAC,EAAG,MAAAoB,EAAO,OAAAC,CAAW,EAAAnB,EAChC,OAAQK,EAAW,CACjB,IAAK,MACH,MAAO,CAAE,EAAGR,EAAIqB,EAAQ,EAAG,EAAApB,CAAE,EAC/B,IAAK,SACH,MAAO,CAAE,EAAGD,EAAIqB,EAAQ,EAAG,EAAGpB,EAAIqB,CAAO,EAC3C,IAAK,OACH,MAAO,CAAE,EAAAtB,EAAG,EAAGC,EAAIqB,EAAS,CAAE,EAChC,IAAK,QACH,MAAO,CAAE,EAAGtB,EAAIqB,EAAO,EAAGpB,EAAIqB,EAAS,CAAE,CAAA,CAE/C,EAEaE,GAAuB,CAClCC,EACAtB,IAGEsB,EAAQ,GAAKtB,EAAM,GACnBsB,EAAQ,GAAKtB,EAAM,EAAIA,EAAM,OAC7BsB,EAAQ,GAAKtB,EAAM,GACnBsB,EAAQ,GAAKtB,EAAM,EAAIA,EAAM,OClCpBuB,GAAwB,CACnCC,EACAC,EACAC,EACAC,EACAC,IACY,CACZ,MAAMC,EAAQ,CACZ,CAACD,EAAK,EAAGA,EAAK,EAAGA,EAAK,EAAIA,EAAK,MAAOA,EAAK,CAAC,EAC5C,CAACA,EAAK,EAAGA,EAAK,EAAIA,EAAK,OAAQA,EAAK,EAAIA,EAAK,MAAOA,EAAK,EAAIA,EAAK,MAAM,EACxE,CAACA,EAAK,EAAGA,EAAK,EAAGA,EAAK,EAAGA,EAAK,EAAIA,EAAK,MAAM,EAC7C,CAACA,EAAK,EAAIA,EAAK,MAAOA,EAAK,EAAGA,EAAK,EAAIA,EAAK,MAAOA,EAAK,EAAIA,EAAK,MAAM,CACzE,EAEME,EAAa,CACjBC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,IACY,CACZ,MAAMC,GAAON,EAAKF,IAAOO,EAAKF,IAAOF,EAAKF,IAAOK,EAAKF,GAClD,GAAAI,IAAQ,EAAU,MAAA,GAChB,MAAAC,IAAWF,EAAKF,IAAOC,EAAKN,IAAOI,EAAKE,IAAOC,EAAKN,IAAOO,EAC3DE,IAAUT,EAAKE,IAAOG,EAAKN,IAAOE,EAAKF,IAAOO,EAAKN,IAAOO,EAChE,MAAO,GAAIC,GAAUA,EAAS,GAAK,EAAIC,GAASA,EAAQ,CAC1D,EAEA,OAAOZ,EAAM,KAAK,CAAC,CAACM,EAAIC,EAAIC,EAAIC,CAAE,IAAMR,EAAWN,EAAIC,EAAIC,EAAIC,EAAIQ,EAAIC,EAAIC,EAAIC,CAAE,CAAC,CACpF,ECpBMI,GAAwC,CAAC,CAAE,EAAA7C,EAAG,EAAAC,EAAG,QAAA6C,EAAS,YAAAC,KAAkB,CAE1E,MAAAC,EAAYC,SAAqB,IAAI,EAE3CC,OAAAA,EAAAA,UAAU,IAAM,CACVF,EAAU,SACZA,EAAU,QAAQ,GAAG,CACnB,QAASF,EAAU,EAAI,EACvB,SAAU,IACV,OAAQK,GAAM,QAAQ,SAAA,CACvB,CACH,EACC,CAACL,CAAO,CAAC,EAGVM,EAAA,IAACC,EAAA,OAAA,CACC,IAAKL,EACL,EAAAhD,EACA,EAAAC,EACA,OAAQ,EACR,KAAK,UACL,OAAO,UACP,YAAa,EACb,WAAY,EACZ,QAAS,EACT,MAAO,CAAE,EAAG,IAAK,EAAG,GAAI,EACxB,aAAeqD,GAAoC,OAC/CA,EAAA,OAAO,GAAG,CAAE,OAAQ,IAAK,OAAQ,IAAK,SAAU,GAAK,EACvD,MAAMC,GAAYC,EAAAF,EAAE,OAAO,SAAA,IAAT,YAAAE,EAAqB,YACnCD,IACFA,EAAU,MAAM,OAAS,UAE7B,EACA,aAAeD,GAAM,OACjBA,EAAA,OAAO,GAAG,CAAE,OAAQ,IAAK,OAAQ,IAAK,SAAU,GAAK,EACvD,MAAMC,GAAYC,EAAAF,EAAE,OAAO,SAAA,IAAT,YAAAE,EAAqB,YACnCD,IACFA,EAAU,MAAM,OAAS,UAE7B,EACA,YAAcD,GAAM,CAClBA,EAAE,aAAe,GACjB,MAAMG,EAAOH,EAAE,OAAO,oBAAsB,EAAA,EACtCI,EAAOJ,EAAE,OAAO,oBAAsB,EAAA,EAC5CP,EAAYU,EAAMC,CAAI,CAAA,CACxB,CACF,CAEJ,ECzCMC,GAAwB,CAAC,CAC7B,MAAAxD,EACA,UAAAyD,EACA,eAAAC,EACA,SAAAC,EACA,SAAAC,EACA,aAAAC,EAAe,GACf,SAAAC,EAAW,GACX,SAAAC,EAAW,GACX,iBAAAC,EAAmB,EACrB,IAAM,CACJ,KAAM,CAACC,EAAWC,CAAY,EAAItD,EAAAA,SAAkB,EAAK,EACnDuD,EAAS,CACb,CAAE,IAAK,MAAO,EAAGnE,EAAM,EAAIA,EAAM,MAAQ,EAAG,EAAGA,EAAM,CAAE,EACvD,CAAE,IAAK,SAAU,EAAGA,EAAM,EAAIA,EAAM,MAAQ,EAAG,EAAGA,EAAM,EAAIA,EAAM,MAAO,EACzE,CAAE,IAAK,OAAQ,EAAGA,EAAM,EAAG,EAAGA,EAAM,EAAIA,EAAM,OAAS,CAAE,EACzD,CAAE,IAAK,QAAS,EAAGA,EAAM,EAAIA,EAAM,MAAO,EAAGA,EAAM,EAAIA,EAAM,OAAS,CAAE,CAC1E,EAEMoE,EAAmB,IAChBJ,GAAoBD,GAAYD,GAAaG,GAAa,CAACJ,EAIlE,OAAAQ,EAAA,KAACC,EAAA,MAAA,CACC,aAAc,IAAMJ,EAAa,EAAI,EACrC,aAAc,IAAMA,EAAa,EAAK,EACtC,QAAS,IAAMP,GAAA,YAAAA,EAAW3D,EAAM,IAChC,UAAW,CAAC6D,EACZ,EAAG7D,EAAM,EACT,EAAGA,EAAM,EACT,WAAamD,GAAM,OACjB,MAAMC,GAAYC,EAAAF,EAAE,OAAO,SAAA,IAAT,YAAAE,EAAqB,YACnCD,IACFA,EAAU,MAAM,OAAS,QAEjBK,EAAAzD,EAAM,GAAImD,EAAE,OAAO,IAAKA,EAAE,OAAO,GAAG,CAChD,EACA,UAAYA,GAAM,OAChB,MAAMC,GAAYC,EAAAF,EAAE,OAAO,SAAA,IAAT,YAAAE,EAAqB,YACnCD,IACFA,EAAU,MAAM,OAAS,WAEjBK,EAAAzD,EAAM,GAAImD,EAAE,OAAO,IAAKA,EAAE,OAAO,GAAG,CAChD,EAEA,SAAA,CAAAF,EAAA,IAACsB,EAAA,KAAA,CACC,MAAOvE,EAAM,MACb,OAAQA,EAAM,OACd,KAAMA,EAAM,OAAS,UACrB,OAAQ4D,EAAW,UAAYC,EAAe,UAAY,OAC1D,aAAc,EACd,WAAY,EACZ,YAAaD,GAAYC,EAAe,EAAI,CAAA,CAC9C,EACAZ,EAAA,IAACuB,EAAA,KAAA,CACC,KAAMxE,EAAM,KACZ,SAAU,GACV,EAAGA,EAAM,MAAQ,EAAI,GACrB,EAAGA,EAAM,OAAS,EAAI,GACtB,WAAW,iBACX,KAAK,SAAA,CACP,EACAiD,EAAA,IAACuB,EAAA,KAAA,CACC,KAAMxE,EAAM,MACZ,SAAU,GACV,EAAGA,EAAM,MAAQ,EAAIA,EAAM,MAAM,OAAS,IAC1C,EAAGA,EAAM,OAAS,EAAI,GACtB,MAAM,SACN,KAAK,SAAA,CACP,EAECoE,EAAiB,GAChBD,EAAO,IAAKM,GACVxB,EAAA,IAACP,GAAA,CAEC,EAAG+B,EAAM,EAAIzE,EAAM,EACnB,EAAGyE,EAAM,EAAIzE,EAAM,EACnB,QAASoE,EAAiB,EAC1B,YAAa,CAACd,EAAMC,IAClBG,EAAe1D,EAAM,GAAIyE,EAAM,IAAkBnB,EAAMC,CAAI,CAAA,EALxDkB,EAAM,GAQd,CAAA,CAAA,CAAA,CACL,CAEJ,ECzFMC,GAAkC,CAAC,CACvC,OAAAC,EACA,sBAAAC,EACA,gBAAA/D,EACA,aAAAgD,EACA,UAAAJ,EACA,eAAAC,EACA,iBAAAmB,EACA,gBAAAC,EACA,SAAAnB,CACF,IAGOV,EAAAA,IAAA8B,EAAAA,SAAA,CAAA,SAAAJ,EAAO,IAAK3E,GACXiD,EAAA,IAACO,GAAA,CAEC,MAAAxD,EACA,UAAAyD,EACA,eAAAC,EACA,aAAAG,EACA,SAAUe,IAA0B5E,EAAM,GAC1C,SAAUa,IAAoBb,EAAM,GACpC,iBAAkB6E,EAAiB7E,EAAM,EAAE,EAC3C,SAAU8E,IAAoB9E,EAAM,GACpC,SAAA2D,CAAA,EATK3D,EAAM,EAWd,CAAA,EACH,ECzCEgF,GAAe,IAEjBX,EAAA,KAAC,MAAI,CAAA,UAAU,6IAA6I,SAAA,CAAA,SACnJpB,EAAA,IAAA,MAAA,CAAI,UAAU,oDAAoD,SAAM,SAAA,EAAM,MAAI,IACxFA,EAAA,IAAA,MAAA,CAAI,UAAU,oDAAoD,SAAS,YAAA,EAAM,oBAAA,EAEpF,ECEEgC,GAA4C,CAAC,CAAE,YAAArF,EAAa,OAAA+E,KAG3D1B,EAAA,IAAA8B,EAAA,SAAA,CAAA,SAAAnF,EAAY,IAAI,CAACU,EAAMP,IAAU,CAC1B,MAAAmF,EAAYP,EAAO,KAAMQ,GAAMA,EAAE,KAAO7E,EAAK,KAAK,OAAO,EACzD8E,EAAUT,EAAO,KAAMQ,GAAMA,EAAE,KAAO7E,EAAK,GAAG,OAAO,EAC3D,GAAI,CAAC4E,GAAa,CAACE,EAAgB,OAAA,KAEnC,MAAMC,EAAOjE,EAAwB8D,EAAW5E,EAAK,KAAK,SAAS,EAC7DgF,EAAKlE,EAAwBgE,EAAS9E,EAAK,GAAG,SAAS,EAG3D,OAAA2C,EAAA,IAACsC,EAAA,MAAA,CAEC,OAAQ,CAACF,EAAK,EAAGA,EAAK,EAAGC,EAAG,EAAGA,EAAG,CAAC,EACnC,OAAO,UACP,YAAa,EACb,cAAe,GACf,aAAc,GACd,QAAQ,QACR,SAAS,OAAA,EAPJvF,CAQP,CAEH,CAAA,EACH,EChBEyF,GAAmB,IAAM,CAC7B,KAAM,CAAE,OAAAb,EAAQ,YAAA/E,EAAa,gBAAAkF,CAAA,EAAoBvE,EAAgB,EAC3D,CACJ,oBAAAkF,EACA,cAAAC,EACA,qBAAAhF,EACA,iBAAAiF,EACA,0BAAAC,GACEpF,EAAkB,EAEhB,CACJ,WAAAL,EACA,gBAAAU,EACA,mBAAAC,EACA,gBAAA+E,EACA,eAAAC,EACA,gBAAAC,CAAA,EACEtF,GAAc,CAAE,qBAAAC,EAAsB,EAEpCsF,EAAYC,UAAQ,IAAMtB,EAAO,QAAQ1D,EAAuB,EAAG,CAAC0D,CAAM,CAAC,EAE3EuB,EAAkBC,EAAA,YACrBhD,GAAoC,OACnC,GAAI,CAAChD,EAAY,OACX,MAAAiG,GAAQ/C,EAAAF,EAAE,SAAF,YAAAE,EAAU,WAClB/B,EAAU8E,GAAA,YAAAA,EAAO,qBACvB,GAAI,CAAC9E,EAAS,OAECwE,EAAAxE,EAAQ,EAAGA,EAAQ,CAAC,EAEnC,MAAM+E,EAAU1B,EAAO,KACpB3E,GAAUA,EAAM,KAAOG,EAAW,aAAekB,GAAqBC,EAAStB,CAAK,CACvF,EAEmBc,GAAAuF,GAAA,YAAAA,EAAS,KAAM,IAAI,CACxC,EACA,CAAClG,EAAYwE,EAAQmB,EAAgBhF,CAAkB,CACzD,EAEMwF,EAAgBH,EAAAA,YAAY,IAAM,CACtC,GAAI,CAAChG,EAAY,OAEjB,KAAM,CAAE,YAAAoG,EAAa,cAAAC,EAAe,OAAAzF,EAAQ,OAAAC,EAAQ,SAAAyF,EAAU,SAAAC,GAAavG,EAE3E,IAAIwG,EAAcX,EAAU,KAAMvB,GAAU,CACpC,MAAApC,EAAKoC,EAAM,EAAIgC,EACfnE,EAAKmC,EAAM,EAAIiC,EAEd,OADM,KAAK,KAAKrE,EAAKA,EAAKC,EAAKA,CAAE,EAC1B,IAAMmC,EAAM,UAAY8B,CAAA,CACvC,EAEG,GAAA,CAACI,GAAe9F,EAAiB,CACnC,MAAMb,EAAQ2E,EAAO,KAAMQ,GAAMA,EAAE,KAAOtE,CAAe,EACzD,GAAIb,EAAO,CACT,MAAM4G,EAAc,CAAC,MAAO,SAAU,OAAQ,OAAO,EAAE,OACpDC,GAAMA,IAAML,GACb,CAAC,EAEGM,EAAiB1F,EAAwBpB,EAAO4G,CAAW,EACnDD,EAAA,CACZ,QAAS3G,EAAM,GACf,UAAW4G,EACX,GAAGE,CACL,CAAA,CACF,CAGF,GAAIH,EAAa,CACT,MAAAvB,EAAUT,EAAO,KAAMQ,GAAMA,EAAE,MAAOwB,GAAA,YAAAA,EAAa,QAAO,EAChE,GAAIvB,EAAS,CASX,GARmB7D,GACjBR,EACAC,EACA2F,EAAY,EACZA,EAAY,EACZvB,CACF,EAEgB,CACEW,EAAA,EAChB,MAAA,CAGYL,EAAA,CACZ,KAAM,CACJ,QAASa,EACT,UAAWC,CACb,EACA,GAAI,CACF,QAASG,EAAY,QACrB,UAAWA,EAAY,SAAA,CACzB,CACD,CAAA,CACH,CAGcZ,EAAA,CAAA,EACf,CAAC5F,EAAY6F,EAAWnF,EAAiB8D,EAAQe,EAAeK,CAAe,CAAC,EAE7EgB,EAAoBZ,EAAA,YACvBhD,GAAoC,CACZA,EAAE,SAAWA,EAAE,OAAO,SAAS,GAEpDwC,EAAiB,IAAI,CAEzB,EACA,CAACA,CAAgB,CACnB,EAEMd,EAAmBsB,EAAA,YACtB/F,GACCR,EAAY,KAAMU,GAASA,EAAK,KAAK,UAAYF,GAAWE,EAAK,GAAG,UAAYF,CAAO,EACzF,CAACR,CAAW,CACd,EAEAmD,OAAAA,EAAAA,UAAU,IAAM,CACR,MAAAiE,EAAiB7D,GAAqB,EACrCA,EAAE,MAAQ,UAAYA,EAAE,MAAQ,cAAgB2B,GACnDc,EAA0Bd,CAAe,CAE7C,EACO,cAAA,iBAAiB,UAAWkC,CAAa,EACzC,IAAM,OAAO,oBAAoB,UAAWA,CAAa,CAAA,EAC/D,CAAClC,EAAiBc,CAAyB,CAAC,EAG7CvB,EAAA,KAAC,MAAI,CAAA,UAAU,2BACb,SAAA,CAAApB,EAAA,IAACgE,EAAA,MAAA,CACC,MAAO,OAAO,WACd,OAAQ,OAAO,YACf,YAAaf,EACb,UAAWI,EACX,YAAaS,EAEb,gBAACG,QACC,CAAA,SAAA,CAAAjE,EAAA,IAACyB,GAAA,CACC,OAAAC,EACA,uBAAuBxE,GAAA,YAAAA,EAAY,cAAe,KAClD,gBAAAU,EACA,aAAc,CAAC,CAACV,EAChB,UAAWsF,EACX,eAAgBI,EAChB,iBAAAhB,EACA,gBAAAC,EACA,SAAUa,CAAA,CACZ,EAEA1C,EAAAA,IAACgC,GAAgB,CAAA,YAAArF,EAA0B,OAAA+E,CAAgB,CAAA,EAE1DxE,GACC8C,EAAA,IAACsC,EAAA,MAAA,CACC,OAAQ,CACNpF,EAAW,OACXA,EAAW,OACXA,EAAW,SACXA,EAAW,QACb,EACA,OAAO,UACP,YAAa,EACb,QAAQ,QACR,SAAS,OAAA,CAAA,CACX,CAEJ,CAAA,CAAA,CACF,EACC2E,SAAoBE,GAAS,CAAA,CAAA,CAAA,EAChC,CAEJ,ECxLamC,GAAe,IAAM,CAChC,KAAM,CAAE,OAAAxC,EAAQ,YAAA/E,CAAY,EAAIW,EAAgB,EAC1C,CAAE,WAAA6G,CAAW,EAAI5G,EAAkB,EA4ClC,MAAA,CAAE,aA1CY,IAAM,CACzB,MAAM6G,EAAO,CACX,SAAU1C,EAAO,IAAKQ,IAAO,CAC3B,GAAGA,EACH,MAAOA,EAAE,OAAS,SAAA,EAClB,EACF,YAAAvF,CACF,EAEM0H,EAAO,IAAI,KAAK,CAAC,KAAK,UAAUD,EAAM,KAAM,CAAC,CAAC,EAAG,CAAE,KAAM,mBAAoB,EAC7EE,EAAM,IAAI,gBAAgBD,CAAI,EAE9BE,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOD,EACZC,EAAK,SAAW,eAChBA,EAAK,MAAM,EAEX,IAAI,gBAAgBD,CAAG,CACzB,EAwBuB,eAtBCE,GAAe,CAC/B,MAAAC,EAAS,IAAI,WACZA,EAAA,OAAUvE,GAAM,OACjB,GAAA,CACF,MAAMwE,EAAO,KAAK,OAAMtE,EAAAF,EAAE,SAAF,YAAAE,EAAU,MAAgB,EAE9C,GAAA,CAAC,MAAM,QAAQsE,EAAK,QAAQ,GAAK,CAAC,MAAM,QAAQA,EAAK,WAAW,EAAG,CACrE,MAAM,sBAAsB,EAC5B,MAAA,CAGSP,EAAA,CACT,SAAUO,EAAK,SACf,YAAaA,EAAK,WAAA,CACnB,OACW,CACZ,MAAM,0BAA0B,CAAA,CAEpC,EACAD,EAAO,WAAWD,CAAI,CACxB,CAEsC,CACxC,EC7CaG,GAAe,CAC1B,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACF,EAEMC,GAAmB,IAAM,CACvB,MAAAC,EAAehF,SAAyB,IAAI,EAC5C,CAAE,aAAAiF,EAAc,eAAAC,CAAe,EAAIb,GAAa,EAChD,CAAE,iBAAAc,CAAiB,EAAI1H,EAAgB,EACvC,CAAE,oBAAA2H,CAAoB,EAAI1H,EAAkB,EAGhD,OAAA6D,EAAA,KAAC,MAAI,CAAA,UAAU,iCACb,SAAA,CAAApB,EAAA,IAAC,SAAA,CACC,QAAS8E,EACT,UAAU,0HACX,SAAA,aAAA,CAED,EACA9E,EAAA,IAAC,SAAA,CACC,QAAS,IAAM,OAAA,OAAAI,EAAAyE,EAAa,UAAb,YAAAzE,EAAsB,SACrC,UAAU,0HACX,SAAA,aAAA,CAED,EAEAJ,EAAA,IAAC,QAAA,CACC,IAAK6E,EACL,KAAK,OACL,OAAO,mBACP,UAAU,SACV,SAAW3E,GAAM,OACf,MAAMsE,GAAOpE,EAAAF,EAAE,OAAO,QAAT,YAAAE,EAAiB,GAC1BoE,KAAqBA,CAAI,CAAA,CAC/B,CACF,EAGApD,EAAAA,KAAC,MAAI,CAAA,UAAU,qDACb,SAAA,CAACpB,EAAA,IAAA,QAAA,CAAM,UAAU,mCAAmC,SAAa,gBAAA,EACjEA,EAAAA,IAAC,OAAI,UAAU,uBACZ,YAAa,IAAI,CAAC/C,EAAOH,IACxBkD,EAAA,IAAC,SAAA,CAEC,QAAS,IAAMiF,EAAoBhI,CAAK,EACxC,UAAU,4GACV,MAAO,CAAE,gBAAiBA,CAAM,EAE/B,aAAqBA,GACpB+C,MAAC,OAAK,CAAA,UAAU,yGAAyG,SAEzH,GAAA,CAAA,CAAA,EARG,SAASlD,CAAK,EAAA,CAWtB,CACH,CAAA,CAAA,CACF,CAAA,CAAA,EACF,CAEJ,ECpEMoI,GAAgB,IACnB9D,EAAAA,KAAA,MAAA,CAAI,UAAU,uCACb,SAAA,CAAApB,MAAC,MAAI,CAAA,UAAU,uCACb,SAAAA,MAAC4E,IAAa,CAAA,EAChB,QAEC,MAAI,CAAA,UAAU,wCACb,SAAA5E,EAAA,IAACuC,KAAa,CAChB,CAAA,CAAA,CACF,CAAA","x_google_ignoreList":[0,1,2,3,4]}